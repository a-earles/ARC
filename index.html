<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ARC</title>
    <style>
      * { margin: 0; padding: 0; box-sizing: border-box; }
      html, body { width: 100%; height: 100%; overflow: hidden; background: #000; }
      canvas { display: block; }

      /* --- HUD --- */
      #hud {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        pointer-events: none;
        z-index: 10;
        font-family: 'Courier New', monospace;
        text-transform: uppercase;
        letter-spacing: 2px;
      }

      #hud-score {
        text-align: center;
        font-size: 28px;
        font-weight: bold;
        color: #eef;
        padding-top: 18px;
        text-shadow: 0 0 8px rgba(0,0,0,0.9), 0 0 2px rgba(0,0,0,1);
      }

      #hud-round {
        text-align: center;
        font-size: 11px;
        color: rgba(200,210,220,0.5);
        margin-top: 2px;
        letter-spacing: 3px;
      }

      #hud-strikes {
        text-align: center;
        font-size: 12px;
        color: rgba(200,210,220,0.6);
        margin-top: 8px;
        letter-spacing: 1px;
      }

      /* --- Status below crosshair --- */
      #hud-status {
        position: fixed;
        bottom: 45%;
        left: 50%;
        transform: translateX(-50%);
        font-family: 'Courier New', monospace;
        font-size: 11px;
        color: rgba(200,210,220,0.4);
        text-transform: uppercase;
        letter-spacing: 3px;
        pointer-events: none;
        z-index: 10;
        text-shadow: 0 0 4px rgba(0,0,0,0.8);
      }

      /* --- Crosshair --- */
      #crosshair {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        pointer-events: none;
        z-index: 10;
      }
      #crosshair::before, #crosshair::after {
        content: '';
        position: absolute;
        background: rgba(255, 255, 255, 0.7);
        box-shadow: 0 0 3px rgba(0,0,0,0.5);
      }
      #crosshair::before {
        width: 16px; height: 1px;
        top: 0; left: -8px;
      }
      #crosshair::after {
        width: 1px; height: 16px;
        top: -8px; left: 0;
      }

      /* --- Dash cooldown ring around crosshair --- */
      #dash-ring {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        pointer-events: none;
        z-index: 10;
        width: 36px;
        height: 36px;
      }
      #dash-ring circle {
        fill: none;
        stroke: rgba(0, 220, 255, 0.5);
        stroke-width: 2;
        stroke-linecap: round;
        transform: rotate(-90deg);
        transform-origin: center;
        transition: stroke-dashoffset 0.05s linear;
      }

      /* --- Game overlay (countdown, round, match over) --- */
      #game-overlay {
        position: fixed;
        top: 0; left: 0; right: 0; bottom: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        pointer-events: none;
        z-index: 20;
        font-family: 'Courier New', monospace;
        text-transform: uppercase;
        letter-spacing: 3px;
        opacity: 0;
        transition: opacity 0.3s;
      }
      #game-overlay.visible { opacity: 1; }
      #game-overlay.clickable { pointer-events: auto; }

      #overlay-text {
        font-size: 64px;
        color: #eef;
        text-shadow: 0 0 30px rgba(0,200,255,0.4), 0 0 8px rgba(0,0,0,0.9);
      }

      #overlay-subtext {
        font-size: 14px;
        color: rgba(200,210,220,0.5);
        margin-top: 12px;
        letter-spacing: 4px;
      }

      #play-again-btn {
        margin-top: 30px;
        padding: 12px 30px;
        background: rgba(0,180,255,0.12);
        border: 1px solid rgba(0,180,255,0.35);
        color: #dde;
        font-family: 'Courier New', monospace;
        font-size: 13px;
        text-transform: uppercase;
        letter-spacing: 2px;
        cursor: pointer;
        display: none;
        transition: background 0.2s;
      }
      #play-again-btn:hover {
        background: rgba(0,180,255,0.25);
      }

      /* --- Score pop animation --- */
      @keyframes score-pop {
        0% { transform: scale(1.0); }
        50% { transform: scale(1.3); }
        100% { transform: scale(1.0); }
      }
      #hud-score.pop {
        animation: score-pop 0.3s ease-out;
      }

      /* --- Instructions --- */
      #instructions {
        position: fixed;
        bottom: 40px;
        left: 50%;
        transform: translateX(-50%);
        color: rgba(200, 210, 220, 0.6);
        font-family: 'Courier New', monospace;
        font-size: 12px;
        text-align: center;
        pointer-events: none;
        z-index: 10;
        letter-spacing: 1px;
        transition: opacity 2s;
      }

      /* --- Hit flash overlay --- */
      #hit-flash {
        position: fixed;
        top: 0; left: 0; right: 0; bottom: 0;
        background: radial-gradient(ellipse at center, rgba(255,50,0,0.6) 0%, rgba(255,0,0,0) 70%);
        pointer-events: none;
        z-index: 9;
        opacity: 0;
        transition: opacity 0.1s;
      }
    </style>
  </head>
  <body>
    <div id="hud">
      <div id="hud-score">0  -  0</div>
      <div id="hud-round">ROUND 1</div>
      <div id="hud-strikes"></div>
    </div>
    <div id="hud-status">ARMED</div>
    <div id="crosshair"></div>
    <!-- Shield energy bar -->
    <div id="shield-container" style="
      position: fixed;
      bottom: 38%;
      left: 50%;
      transform: translateX(-50%);
      width: 60px;
      height: 3px;
      background: rgba(255,255,255,0.08);
      border-radius: 2px;
      pointer-events: none;
      z-index: 10;
    ">
      <div id="shield-bar" style="
        width: 100%;
        height: 100%;
        background: rgba(0, 200, 255, 0.5);
        border-radius: 2px;
        transition: width 0.05s linear;
      "></div>
    </div>
    <!-- Dash cooldown ring -->
    <svg id="dash-ring" viewBox="0 0 36 36">
      <circle id="dash-circle" cx="18" cy="18" r="15" stroke-dasharray="94.25" stroke-dashoffset="0" />
    </svg>
    <!-- Game overlays -->
    <div id="game-overlay">
      <div id="overlay-text"></div>
      <div id="overlay-subtext"></div>
      <button id="play-again-btn">PLAY AGAIN</button>
    </div>
    <div id="hit-flash"></div>
    <div id="parry-flash" style="
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: radial-gradient(ellipse at center, rgba(0,200,255,0.5) 0%, rgba(0,255,255,0) 70%);
      pointer-events: none;
      z-index: 9;
      opacity: 0;
      transition: opacity 0.05s;
    "></div>
    <div id="fps-counter" style="
      position: fixed; top: 8px; right: 12px;
      font-family: 'Courier New', monospace; font-size: 12px;
      color: rgba(200, 210, 220, 0.4);
      pointer-events: none; z-index: 10; letter-spacing: 1px;
    ">-- FPS</div>
    <!-- Network status (multiplayer) -->
    <div id="net-status" style="
      position: fixed; top: 8px; left: 12px;
      font-family: 'Courier New', monospace; font-size: 11px;
      color: rgba(200, 210, 220, 0.5);
      pointer-events: none; z-index: 10; letter-spacing: 1px;
      display: none;
    ">
      <span id="net-indicator" style="display: inline-block; width: 6px; height: 6px; border-radius: 50%; background: #555; margin-right: 6px; vertical-align: middle;"></span>
      <span id="net-text">OFFLINE</span>
    </div>
    <div id="instructions">CLICK TO START &mdash; MOUSE TO AIM &mdash; WASD TO MOVE<br>LEFT CLICK THROW &mdash; RIGHT CLICK SHIELD &mdash; SHIFT DASH<br>SPACE JUMP &mdash; C CROUCH &mdash; E CATCH &mdash; ESC UNLOCK</div>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
